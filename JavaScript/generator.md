# 제너레이터

- 제너레이터는 이터레이터이자 이터러블을 생성하는 함수이다.
- 제너레이터는 이터레이터를 반환하는 함수이다.
- 제너레이터는 well-formed 이터레이터를 리턴한다.
- 제너레이터는 function* 별을 붙여서 제너레이터 함수를 정의한다.

```javascript
// 제너레이터는 *별을 붙여서 제너레이터 함수를 만든다.
function* gen() {
    yield 1;
    if (false) yield 2;
    yield 3;

    // 제너레이터에서는 마지막에 이런 식으로 리턴값을 만들 수도 있다.
    // done이 true가 되면 리턴값이 전달됨
    return '리턴값'
}

// 이 이터레이터는 이터레이터이자 이터러블이기도 함
let iter = gen();// 이 제너레이터는 이터레이터를 반환함

// 이터레이터는 Symbol.iterator를 가지고 있고 Symbol.iterator의 실행 결과는 자기 자신이다. 
// 따라서 제너레이터는 웰폼드 이터레이터를 리턴하는 함수이다.
iter[Symbol.iterator]() == iter



// 제너레이터를 사용하게 되면 역시 제너레이터의 실행 결과가 이터러블이자 이터레이터이기 때문에 
// 이런 식으로 for of로 순회가능.
for (const a of gen()) log(a);

```

- 제너레이터 함수 리턴값은 done이 true가 되면서 리턴에서 전달한 결과가 전달된다.
*그러나 순회할 때 리턴 값 없이 순회가 이루어진다.*

### 다형성
자바스크립트에서는 제너레이터를 통해서 어떠한 상태나 값이든 사실상 순회할 수 있게 만들 수 있다
제너레이터라는 문장을 통해 순회할 수 있는 값을 만들 수 있다는 점은
어떠한 값도 순회할 수 있는 형태로 제너레이터라는 문장을 통해 조작할 수 있으며,
제너레이터를 통해서 다양한 값들을 순회할 수 있는 이터러블을 쉽게 그리고
프로그래머가 로직을 만들어가면서 순회 시킬 수 있다.<br/>
**이러한 점은 함수형 프로그래밍 관점에서 중요하며, 자바스크립트는 다형성이 굉장히 높다.**

### 지연 실행
```javascript
function* infinity(i = 0) {
  while (true) yield i++;
}

// 이 제너레이터는 while을 통해 무한히 i++하면서 해당하는 값을 계속해서 리턴한다.
// 이 제너레이터를 통해서 생성된 이터레이터는 next()를 할때마다 계속해서 생성할 것이다.
```
무한히 값을 생성하지만 내가 이터레이터의 next()를 평가할 때까지만 동작하기 때문에<br/>
while(true) 이런 코드를 작성한다고 해서 **브라우저가 멈추거나 프로그램이 멈추거나 하는 일은 없다.**<br/>
(이런 식으로 무한수열을 표현할 수가 있음)

### 제너레이터는 이터러블/이터레이터 프로토콜을 준수한다.
제너레이터는 이터러블/이터레이터 프로토콜을 따르고 있기 때문에 
for..of 문이나 전개 연산자, 구조 분해, 나머지 연산자 등 
자바스크립트에서 이터러블 프로토콜을 따르고 있는 문법들 <br/>
혹은 이터러블 프로토콜을 따르고 있는 많은 라이브러리나 많은 함수들 헬퍼 함수들과 함께 잘 사용할 수 있다.
