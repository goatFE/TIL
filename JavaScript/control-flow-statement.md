# 제어문 control flow statement

조건에 따라 코드 블록을 실행(조건문)하거나 반복실행(반복문)할 때 사용한다.

일반적으로 코드는 위에서 아래 방향으로 순차적으로 실행하는데, 제어문을 사용하면 코드의 실행흐름을 강제로 제어할 수 있다.

- 가독성 떨어짐
    - 코드의 흐름을 이해하기 어렵게 만드는 제어문 보다는 forEach, map, filter, reduce같은 고차함수를 사용하자.

## 1. 블록문 block statement/compound statement

0개 이상의 문을 중괄호로 묶은 것 (코드 블록 또는 블록)이라고 부른다.

블록문은 단독으로 사용할 수 있으나 제어문, 함수정의할때 사용하는것이 일반적이다.

- 자바스크립트는 블록문을 하나의 실행단위로 취급함
- 블록문은 문의 종료를 의미하는 자체종결성을 갖기때문에 블록문의 끝에는 세미콜론이 붙지않는다.

## 2. 조건문 conditional statement

주어진 조건식 conditional expression의 평가 결과에 따라 코드 블록(블록문)의 실행을 결정한다.

자바스크립트는 if…else 문과 switch문으로 두가지 조건문을 제공한다.

### 1) if … else 문

조건식의 평가결과에 따라 실행할 코드블록을 결정한다.

- 조건식: 불리언 값으로 평가될 수 있는 표현식
    - if 문의 조건식 평가가 불리언값이 아닌 값이라면 자바스크립트 엔진에 의해 암묵적으로 불리언 값으로 강제 변환된다.
- 평가결과: 논리적 참 또는 거짓
- 조건식의 평가결과가 true이면 if문의 코드 블록 실행, false이면 else문의 코드 블록이 실행된다.
- else if 조건식 추가

- 용도
    - 조건식이 불리언 값으로 평가되어야함
    - 논리적 참, 거짓으로 실행할 코드 블록을 결정한다.

### 2) switch 문

주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 case문으로 실행 흐름을 옮긴다.

- case 표현식:
  실행할 문;
  break;
- switch 표현식과 일치하는 case문이 없으면 실행순서는 default문으로 이동한다. (옵션)

- 용도
    - switch문의 표현식은 불리언값보다는 문자열, 숫자값인 경우가 많다.
    - switch문은 다양한 상황(case)에 따라 실행할 코드블록을 결정할때 사용한다.

- 주의사항
    - **폴스루 fall through** : break문이 없으면?
        - switch문의 표현식 평가결과와 일치하는 case문으로 실행흐름이 이동하여 문을 실행했지만
          break가 없어서 switch문을 탈출하지못하고 끝날때까지 이후의 모든 case문, default문을 실행한다.
    - break 문
        - break문은 코드 블록에서 탈출하는 역할을 한다.
          break문이 없다면 case문의 표현식과 일치하지않더라도 실행흐름이 다음 case문으로 순차적으로 이동한다.
    - default 문
        - default 문에는 break문을 생략하는것이 일반적
        - default문은 switch문의 맨 마지막에 위치하므로 default문 실행이 종료되면 switch문을 빠져나간다. 따라서 별도의 break문이 필요없다.


## 3. 반복문 loop statement

조건식의 평가 결과가 참인 경우 코드 블록을 실행한다. → 다시 조건식 평가하여 참이면 코드블록 다시 실행 → 조건식이 거짓일때까지 무한반복

for 문, while 문, do … while 문

<aside>
💡 < 반복문 대체할 수 있는 기능들 >
- 배열 순회 forEach 메서드
- 객체의 프로퍼티 열거 for … in 문
- 이터러블 순회 for … of 문

</aside>

### 1) for 문

조건식이 false로 평가될때까지 코드블록을 반복 실행 한다.

```jsx
for (변수 선언문 또는 할당문; 조건식; 증감식) {
	조건식이 참인 경우 반복 실행될 문;
}
```

- for문의 변수 선언문, 조건식, 증감식은 모두 옵션이다!
  만약, 어떤 식도 선언하지않으면 무한루프(코드블록을 무한히 반복실행)가 된다.

```jsx
for (;;) { ... } // 무한루프
```

- for문은 중첩해서 사용할 수 있다. (중첩 for문)

### 2) while 문

조건식이 false로 평가될때까지 코드블록을 반복 실행한다.

**for문은 반복횟수가 명확할때 사용하고 while문은 반복횟수가 불명확할때 사용한다**

조건식의 평가결과가 불리언값이 아니면 불리언값으로 강제 변환하여 논리적 참, 거짓을 구별한다.

```jsx
while(true) { ... }//무한루프
```

### 3) do … while 문

코드 블록을 먼저 실행(do)하고 조건식을 평가한다.

코드 블록은 무조건 한 번 이상 실행됨

## 4. break 문

break문은 코드 블록을 탈출한다.

- 레이블 문, 반복문, switch 문의 코드블록을 탈출한다.
- 레이블 문, 반복문, switch 문 코드블록 외에 break문을 사용하면 SyntaxError(문법에러)발생한다.

### 1) 레이블 문 label statement

프로그램의 실행순서를 제어하는데 사용한다.

switch문의 case문과 default문도 레이블문이다.

레이블 문을 탈출하려면 break문에 레이블 식별자를 지정한다.

```jsx
foo: console.log('foo'); // foo라는 레이블 식별자가 붙은 레이블 문
```

- 중첩 for문에서 탈출
    - 내부 for문 탈출하려면 break문
    - 외부 for문 탈출하려면 break레이블문

- break문은 레이블 문이 아니라, 반복문 switch문에서 사용되면 break문에 레이블 식별자를 지정하지않는다.
- 용도
    - 레이블문은 중첩된 for문 외부로 탈출할때 유용하지만 그밖의 경우에는 권장하지않는다.
    - 레이블 문을 사용하면 가독성이 안좋음


### 2) continue 문

반복문의 코드 블록 실행을 현 지점에서 중단하고 반복문의 증감식으로 실행 흐름을 이동시킨다.

break문처럼 반복문을 탈출하지는 않는다.
